
#CONFIG := tank
#CONFIG := simulator
#CONFIG := tests
#CONFIG := twitool

ifeq ($(CONFIG), simulator)

    USE_PROCESS := false
    USE_SCHEDULER := false

    KERNEL_LOG := true
    USE_BUFFER_STDOUT := true
    USE_TWI := true

    MAIN_Main-Simulator := Main-Tank-IO

    PROJ := Main-Simulator
    PLATFORM := Avr
    STUDIO := true
    DONT_LINK_ALL := true

    NOOPT := true
    DEBUG := true
    LSS := true

endif
ifeq ($(CONFIG), tests)

    PROJ := TankOS-Test
    PLATFORM = Native
    SPEED := true
default: run

endif
ifeq ($(CONFIG), io)

    PROJ := Main-Tank-IO

endif
ifeq ($(CONFIG), master)

    PROJ := Main-Tank-MASTER

endif
ifeq ($(CONFIG), $(filter $(CONFIG), tank io master))

    KERNEL_LOG := true
    USE_BUFFER_STDOUT := true
    USE_TWI := true

    STUDIO := true
    PLATFORM := Avr
    LSS := true
    SPEED := true
    # DONT_LINK_ALL := true

    ifndef PROJ
        $(error Please define PROJ= on the command line)
    endif

endif
ifeq ($(CONFIG), twitool)

    PLATFORM := Native
    PROJ := TwiTool
    SPEED := true

endif
